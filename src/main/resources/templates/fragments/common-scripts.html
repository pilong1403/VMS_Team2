<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <body>
    <th:block th:fragment="base-scripts">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
      <script th:src="@{/js/toast-utils.js}"></script>
    </th:block>

    <script th:fragment="scripts" th:src="@{/js/toast-utils.js}"></script>

    <script th:fragment="toast-init" th:inline="javascript">
      document.addEventListener("DOMContentLoaded", function () {
        /*[# th:if="${success}"]*/
        const successMessage = /*[[${success}]]*/ null;
        if (successMessage) {
          showSuccessToast(successMessage);
        }
        /*[/]*/

        /*[# th:if="${error}"]*/
        const errorMessage = /*[[${error}]]*/ null;
        if (errorMessage) {
          showErrorToast(errorMessage);
        }
        /*[/]*/

        /*[# th:if="${warning}"]*/
        const warningMessage = /*[[${warning}]]*/ null;
        if (warningMessage) {
          showWarningToast(warningMessage);
        }
        /*[/]*/

        /*[# th:if="${info}"]*/
        const infoMessage = /*[[${info}]]*/ null;
        if (infoMessage) {
          showInfoToast(infoMessage);
        }
        /*[/]*/
      });
    </script>

    <script th:fragment="pagination-script">
      function changePageSize(newSize) {
        const urlParams = new URLSearchParams(window.location.search);
        urlParams.set("size", newSize);
        urlParams.set("page", "1");
        window.location.search = urlParams.toString();
      }
    </script>
  </body>
</html>
