<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>B√°o c√°o</title>
    <link rel="stylesheet" th:href="@{/css/styleUser.css}" />
</head>
<body data-page="reports">
<aside class="sidebar">
    <div class="sidebar-header">
        <div class="sidebar-logo">
            <div class="logo-icon">üìä</div>
            <div class="logo-text"><h2>Qu·∫£n L√Ω Admin</h2><p>H·ªá th·ªëng qu·∫£n tr·ªã</p></div>
        </div>
    </div>
    <nav class="sidebar-nav">
        <div class="nav-label">MENU CH√çNH</div>
        <ul class="nav-menu">
            <li><a th:href="@{/admin/users}" class="nav-item">Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</a></li>
            <li><a th:href="@{/admin/organizations}" class="nav-item">H·ªì s∆° t·ªï ch·ª©c</a></li>
            <li><a th:href="@{/admin/reports}" class="nav-item active">B√°o c√°o</a></li>
        </ul>
    </nav>
</aside>

<div class="main-wrapper">
    <header class="header"><div class="header-title">B√°o c√°o & Th·ªëng k√™</div></header>
    <main class="content">
        <div class="page-header"><h1>B√°o c√°o</h1><p>Th·ªëng k√™ h·ªá th·ªëng theo th·ªùi gian</p></div>

        <div class="search-filter-bar">
            <div class="filter-group">
                <select id="reportType">
                    <option value="users">Ng∆∞·ªùi d√πng</option>
                    <option value="orgs">T·ªï ch·ª©c</option>
                    <option value="activity">Ho·∫°t ƒë·ªông</option>
                </select>
                <input type="month" id="reportFrom" />
                <input type="month" id="reportTo" />
                <select id="reportSort">
                    <option value="desc">M·ªõi nh·∫•t</option>
                    <option value="asc">C≈© nh·∫•t</option>
                </select>
                <button class="btn btn-outline" id="btnReportFilter">L·ªçc</button>
            </div>
            <div class="search-wrapper">
                <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                    <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                </svg>
                <input type="search" id="reportSearch" placeholder="T√¨m theo t√™n/email..." />
            </div>
        </div>

        <div class="stats-grid" id="reportStats"></div>

        <div class="card">
            <div class="card-header"><h3>Bi·ªÉu ƒë·ªì t·ªïng quan</h3></div>
            <canvas id="reportChart" height="160"></canvas>
        </div>

        <div class="card">
            <h3>Ph√¢n b·ªë ng∆∞·ªùi d√πng theo vai tr√≤</h3>
            <canvas id="roleChart" height="200"></canvas>
        </div>

        <div class="card">
            <h3>Xu h∆∞·ªõng ƒëƒÉng k√Ω t·ªï ch·ª©c theo th√°ng</h3>
            <canvas id="orgTrendChart" height="200"></canvas>
        </div>


        <div class="table-wrapper">
            <table>
                <thead>
                <tr>
                    <th data-sort="name">T√™n</th>
                    <th data-sort="email">Email</th>
                    <th data-sort="createdAt">Ng√†y t·∫°o</th>
                    <th data-sort="status">Tr·∫°ng th√°i</th>
                </tr>
                </thead>
                <tbody id="reportTableBody"><!-- JS render --></tbody>
            </table>
        </div>
    </main>
</div>

<div class="toast" id="toast">
    <div class="toast-content">
        <strong id="toastTitle"></strong><p id="toastMessage"></p>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
<script th:src="@{/js/jsUser.js}"></script>
</body>
</html>
