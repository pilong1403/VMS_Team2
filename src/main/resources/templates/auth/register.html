<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng ký - Trái Tim Tình Nguyện</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
    <link th:href="@{/css/register.css}" rel="stylesheet" />
  </head>
  <body>
    <div class="register-container">
      <!-- Logo -->
      <div class="logo-container">
        <a th:href="@{/}">
          <img th:src="@{/images/alt-logo.png}" alt="Logo Trái Tim Tình Nguyện" class="img-fluid" />
        </a>
      </div>

      <!-- Register Form -->
      <form th:action="@{/register}" method="post" th:object="${form}" class="register-form">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <!-- Full Name -->
        <div class="form-group">
          <label for="fullName" class="form-label"> <i class="bi bi-person me-2"></i>Họ và tên </label>
          <input
            th:field="*{fullName}"
            type="text"
            class="form-control"
            id="fullName"
            placeholder="Nguyễn Văn A"
            required
          />
          <div class="error-message" th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}"></div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email" class="form-label"> <i class="bi bi-envelope me-2"></i>Email </label>
          <input
            th:field="*{email}"
            type="email"
            class="form-control"
            id="email"
            placeholder="example@gmail.com"
            required
          />
          <div class="error-message" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
        </div>

        <!-- Phone -->
        <div class="form-group">
          <label for="phone" class="form-label"> <i class="bi bi-telephone me-2"></i>Số điện thoại </label>
          <input th:field="*{phone}" type="text" class="form-control" id="phone" placeholder="0xxxxxxxxx" required />
          <div class="error-message" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div>
        </div>

        <!-- Password -->
        <div class="form-group">
          <label for="password" class="form-label"> <i class="bi bi-lock me-2"></i>Mật khẩu </label>
          <div class="input-group">
            <input
              th:field="*{password}"
              type="password"
              class="form-control"
              id="password"
              placeholder="••••••••••"
              required
            />
            <button class="btn btn-outline-secondary" type="button" id="togglePassword">
              <i class="bi bi-eye" id="toggleIcon"></i>
            </button>
          </div>
          <small class="form-text">Ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường và số.</small>
          <div class="error-message" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
        </div>

        <!-- Confirm Password -->
        <div class="form-group">
          <label for="confirmPassword" class="form-label">
            <i class="bi bi-lock-fill me-2"></i>Xác nhận mật khẩu
          </label>
          <div class="input-group">
            <input
              th:field="*{confirmPassword}"
              type="password"
              class="form-control"
              id="confirmPassword"
              placeholder="••••••••••"
              required
            />
            <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
              <i class="bi bi-eye" id="toggleConfirmIcon"></i>
            </button>
          </div>
          <div
            class="error-message"
            th:if="${#fields.hasErrors('confirmPassword')}"
            th:errors="*{confirmPassword}"
          ></div>
        </div>

        <!-- Register Button -->
        <button type="submit" class="btn btn-register"><i class="bi bi-person-plus me-2"></i>Đăng ký</button>

        <!-- Links -->
        <div class="login-link text-center">
          Đã có tài khoản?
          <a th:href="@{/login}">Đăng nhập ngay</a>
        </div>
      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/register.js}"></script>
    <div th:replace="~{fragments/toast-container :: toast-system}"></div>
  </body>
</html>
